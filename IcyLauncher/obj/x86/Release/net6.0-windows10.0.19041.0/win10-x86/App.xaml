<Application
    x:Class="IcyLauncher.App"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:animatedvisuals="using:Microsoft.UI.Xaml.Controls.AnimatedVisuals"
    xmlns:controls="using:Microsoft.UI.Xaml.Controls"
    xmlns:helper="using:IcyLauncher.Core.Helpers"
    xmlns:local="using:IcyLauncher"
    xmlns:media="using:Microsoft.UI.Xaml.Media"
    xmlns:primitives="using:Microsoft.UI.Xaml.Controls.Primitives">
    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <XamlControlsResources xmlns="using:Microsoft.UI.Xaml.Controls" />
            </ResourceDictionary.MergedDictionaries>

            <helper:ArrayConverter x:Key="ArrayConverter" />

            <Color x:Key="AccentPrimary">#FF008AFF</Color>
            <Color x:Key="AccentLight">#FF7DC3FF</Color>
            <Color x:Key="AccentDark">#FF004987</Color>

            <Color x:Key="BackgroundPrimary">#FF202020</Color>
            <Color x:Key="BackgroundLight">#FF3A3A3A</Color>
            <Color x:Key="BackgroundDark">#FF171717</Color>

            <Color x:Key="TextPrimary">#FFFFFFFF</Color>
            <Color x:Key="TextSecondary">#C4FFFFFF</Color>
            <Color x:Key="TextTertiary">#85FFFFFF</Color>
            <Color x:Key="TextDisabled">#5CFFFFFF</Color>

            <Color x:Key="ControlPrimary">#0DFFFFFF</Color>
            <Color x:Key="ControlOutline">#1AFFFFFF</Color>
            <Color x:Key="ControlPrimaryDisabled">#26FFFFFF</Color>
            <Color x:Key="ControlOutlineDisabled">#33FFFFFF</Color>

            <Color x:Key="ControlSolidPrimary">#FF2E2E2E</Color>
            <Color x:Key="ControlSolidOutline">#FF383838</Color>
            <Color x:Key="ControlSolidPrimaryDisabled">#FF434343</Color>
            <Color x:Key="ControlSolidOutlineDisabled">#FF4F4F4F</Color>


            <Style TargetType="NavigationView">
                <Setter Property="IsSettingsVisible" Value="False" />
                <Setter Property="IsPaneOpen" Value="True" />
                <Setter Property="IsBackButtonVisible" Value="Collapsed" />
                <Setter Property="IsPaneToggleButtonVisible" Value="False" />
                <Setter Property="OpenPaneLength" Value="72" />
                <Setter Property="PaneDisplayMode" Value="Left" />
            </Style>

            <Style x:Key="MUX_NavigationViewItemPresenterStyleWhenOnLeftPane" TargetType="NavigationViewItemPresenter">
                <Setter Property="UseSystemFocusVisuals" Value="True" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="primitives:NavigationViewItemPresenter">
                            <Grid
                                x:Name="LayoutRoot"
                                Height="58"
                                Margin="5,1,5,3"
                                Background="Transparent"
                                Control.IsTemplateFocusTarget="True"
                                CornerRadius="4">
                                <Grid.Resources />

                                <Grid x:Name="PresenterContentRootGrid">
                                    <Grid HorizontalAlignment="Left" VerticalAlignment="Center">
                                        <Rectangle
                                            x:Name="SelectionIndicator"
                                            Width="4"
                                            Height="24"
                                            Fill="{StaticResource AccentPrimary}"
                                            Opacity="0.0"
                                            RadiusX="1"
                                            RadiusY="1" />
                                    </Grid>

                                    <Grid x:Name="ContentGrid" VerticalAlignment="Center">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto" />
                                            <RowDefinition Height="Auto" />
                                        </Grid.RowDefinitions>

                                        <Viewbox
                                            x:Name="IconBox"
                                            Width="28"
                                            Height="28"
                                            Margin="0,3,0,0"
                                            HorizontalAlignment="Center">
                                            <Grid>
                                                <FontIcon
                                                    x:Name="Icon"
                                                    FontFamily="FluentSystemIcons-Regular"
                                                    Foreground="{StaticResource TextSecondary}"
                                                    Glyph="{Binding Content, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource ArrayConverter}, ConverterParameter=0}" />
                                                <FontIcon
                                                    x:Name="IconFilled"
                                                    FontFamily="FluentSystemIcons-Filled"
                                                    Foreground="{StaticResource AccentPrimary}"
                                                    Glyph="{Binding Content, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource ArrayConverter}, ConverterParameter=1}"
                                                    Opacity="0" />
                                            </Grid>
                                        </Viewbox>
                                        <Grid
                                            x:Name="TitleBox"
                                            Grid.Row="1"
                                            Height="14"
                                            HorizontalAlignment="Center">
                                            <TextBlock
                                                x:Name="Title"
                                                helper:AncestorSource.AncestorType="NavigationViewItem"
                                                AutomationProperties.AccessibilityView="Raw"
                                                FontSize="11"
                                                Foreground="{StaticResource TextSecondary}"
                                                Text="{Binding Tag}" />
                                        </Grid>
                                    </Grid>
                                </Grid>

                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup x:Name="PointerStates">
                                        <VisualState x:Name="Normal">
                                            <VisualState.Storyboard>
                                                <Storyboard>
                                                    <ColorAnimation
                                                        Storyboard.TargetName="LayoutRoot"
                                                        Storyboard.TargetProperty="(UIElement.Background).(SolidColorBrush.Color)"
                                                        To="Transparent"
                                                        Duration="0:0:0.2" />
                                                    <ColorAnimation
                                                        Storyboard.TargetName="Icon"
                                                        Storyboard.TargetProperty="(UIElement.Foreground).(SolidColorBrush.Color)"
                                                        To="{StaticResource TextSecondary}"
                                                        Duration="0:0:0.2" />
                                                    <DoubleAnimation
                                                        EnableDependentAnimation="true"
                                                        Storyboard.TargetName="Icon"
                                                        Storyboard.TargetProperty="Opacity"
                                                        To="1"
                                                        Duration="0:0:0.2" />
                                                    <DoubleAnimation
                                                        EnableDependentAnimation="true"
                                                        Storyboard.TargetName="IconFilled"
                                                        Storyboard.TargetProperty="Opacity"
                                                        To="0"
                                                        Duration="0:0:0.2" />
                                                    <ColorAnimation
                                                        Storyboard.TargetName="Title"
                                                        Storyboard.TargetProperty="(UIElement.Foreground).(SolidColorBrush.Color)"
                                                        To="{StaticResource TextSecondary}"
                                                        Duration="0:0:0.2" />
                                                    <DoubleAnimation
                                                        EnableDependentAnimation="true"
                                                        Storyboard.TargetName="TitleBox"
                                                        Storyboard.TargetProperty="Height"
                                                        To="14"
                                                        Duration="0:0:0.1" />
                                                </Storyboard>
                                            </VisualState.Storyboard>
                                            <VisualState.Setters>
                                                <Setter Target="Icon.(controls:AnimatedIcon.State)" Value="Normal" />
                                            </VisualState.Setters>
                                        </VisualState>

                                        <VisualState x:Name="PointerOver">
                                            <VisualState.Storyboard>
                                                <Storyboard>
                                                    <ColorAnimation
                                                        Storyboard.TargetName="LayoutRoot"
                                                        Storyboard.TargetProperty="(UIElement.Background).(SolidColorBrush.Color)"
                                                        To="{StaticResource ControlPrimary}"
                                                        Duration="0:0:0.2" />
                                                    <ColorAnimation
                                                        Storyboard.TargetName="Icon"
                                                        Storyboard.TargetProperty="(UIElement.Foreground).(SolidColorBrush.Color)"
                                                        To="{StaticResource TextPrimary}"
                                                        Duration="0:0:0.2" />
                                                    <DoubleAnimation
                                                        EnableDependentAnimation="true"
                                                        Storyboard.TargetName="Icon"
                                                        Storyboard.TargetProperty="Opacity"
                                                        To="1"
                                                        Duration="0:0:0.2" />
                                                    <DoubleAnimation
                                                        EnableDependentAnimation="true"
                                                        Storyboard.TargetName="IconFilled"
                                                        Storyboard.TargetProperty="Opacity"
                                                        To="0"
                                                        Duration="0:0:0.2" />
                                                    <ColorAnimation
                                                        Storyboard.TargetName="Title"
                                                        Storyboard.TargetProperty="(UIElement.Foreground).(SolidColorBrush.Color)"
                                                        To="{StaticResource TextPrimary}"
                                                        Duration="0:0:0.2" />
                                                </Storyboard>
                                            </VisualState.Storyboard>
                                            <VisualState.Setters>
                                                <Setter Target="Icon.(controls:AnimatedIcon.State)" Value="PointerOver" />
                                            </VisualState.Setters>
                                        </VisualState>

                                        <VisualState x:Name="Pressed">
                                            <VisualState.Storyboard>
                                                <Storyboard>
                                                    <ColorAnimation
                                                        Storyboard.TargetName="LayoutRoot"
                                                        Storyboard.TargetProperty="(UIElement.Background).(SolidColorBrush.Color)"
                                                        To="{StaticResource ControlOutline}"
                                                        Duration="0:0:0.1" />
                                                    <ColorAnimation
                                                        Storyboard.TargetName="Icon"
                                                        Storyboard.TargetProperty="(UIElement.Foreground).(SolidColorBrush.Color)"
                                                        To="{StaticResource TextTertiary}"
                                                        Duration="0:0:0.1" />
                                                    <DoubleAnimation
                                                        EnableDependentAnimation="true"
                                                        Storyboard.TargetName="Icon"
                                                        Storyboard.TargetProperty="Opacity"
                                                        To="1"
                                                        Duration="0:0:0.2" />
                                                    <DoubleAnimation
                                                        EnableDependentAnimation="true"
                                                        Storyboard.TargetName="IconFilled"
                                                        Storyboard.TargetProperty="Opacity"
                                                        To="0"
                                                        Duration="0:0:0.2" />
                                                    <ColorAnimation
                                                        Storyboard.TargetName="Title"
                                                        Storyboard.TargetProperty="(UIElement.Foreground).(SolidColorBrush.Color)"
                                                        To="{StaticResource TextTertiary}"
                                                        Duration="0:0:0.1" />
                                                </Storyboard>
                                            </VisualState.Storyboard>
                                            <VisualState.Setters>
                                                <Setter Target="Icon.(controls:AnimatedIcon.State)" Value="Pressed" />
                                            </VisualState.Setters>
                                        </VisualState>

                                        <VisualState x:Name="Selected">
                                            <VisualState.Storyboard>
                                                <Storyboard>
                                                    <ColorAnimation
                                                        Storyboard.TargetName="LayoutRoot"
                                                        Storyboard.TargetProperty="(UIElement.Background).(SolidColorBrush.Color)"
                                                        To="{StaticResource ControlPrimary}"
                                                        Duration="0:0:0.2" />
                                                    <ColorAnimation
                                                        Storyboard.TargetName="Title"
                                                        Storyboard.TargetProperty="(UIElement.Foreground).(SolidColorBrush.Color)"
                                                        To="{StaticResource AccentPrimary}"
                                                        Duration="0:0:0.2" />
                                                    <DoubleAnimation
                                                        EnableDependentAnimation="true"
                                                        Storyboard.TargetName="Icon"
                                                        Storyboard.TargetProperty="Opacity"
                                                        To="0"
                                                        Duration="0:0:0.2" />
                                                    <DoubleAnimation
                                                        EnableDependentAnimation="true"
                                                        Storyboard.TargetName="IconFilled"
                                                        Storyboard.TargetProperty="Opacity"
                                                        To="1"
                                                        Duration="0:0:0.2" />
                                                    <DoubleAnimation
                                                        EnableDependentAnimation="true"
                                                        Storyboard.TargetName="TitleBox"
                                                        Storyboard.TargetProperty="Height"
                                                        To="0"
                                                        Duration="0:0:0.1" />
                                                </Storyboard>
                                            </VisualState.Storyboard>
                                        </VisualState>

                                        <VisualState x:Name="PointerOverSelected">
                                            <VisualState.Storyboard>
                                                <Storyboard>
                                                    <ColorAnimation
                                                        Storyboard.TargetName="LayoutRoot"
                                                        Storyboard.TargetProperty="(UIElement.Background).(SolidColorBrush.Color)"
                                                        To="{StaticResource ControlPrimary}"
                                                        Duration="0:0:0.2" />
                                                    <ColorAnimation
                                                        Storyboard.TargetName="Title"
                                                        Storyboard.TargetProperty="(UIElement.Foreground).(SolidColorBrush.Color)"
                                                        To="{StaticResource AccentPrimary}"
                                                        Duration="0:0:0.2" />
                                                    <DoubleAnimation
                                                        EnableDependentAnimation="true"
                                                        Storyboard.TargetName="Icon"
                                                        Storyboard.TargetProperty="Opacity"
                                                        To="0"
                                                        Duration="0:0:0.2" />
                                                    <DoubleAnimation
                                                        EnableDependentAnimation="true"
                                                        Storyboard.TargetName="IconFilled"
                                                        Storyboard.TargetProperty="Opacity"
                                                        To="1"
                                                        Duration="0:0:0.2" />
                                                    <DoubleAnimation
                                                        EnableDependentAnimation="true"
                                                        Storyboard.TargetName="TitleBox"
                                                        Storyboard.TargetProperty="Height"
                                                        To="0"
                                                        Duration="0:0:0.1" />
                                                </Storyboard>
                                            </VisualState.Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

        </ResourceDictionary>
    </Application.Resources>
</Application>

